<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Poema Caída Bloques Automático</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    background: white;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    font-family: monospace;
  }

  .bloque {
    color: red;
    white-space: pre; /* mantiene los espacios originales */
    text-align: left;
    line-height: 1.2;
    width: 90%;
    height: 100%;
    display: none; /* se mostrará solo el bloque activo */
    justify-content: center;
    align-items: center;
    animation: lluvia 2.5s infinite ease-in-out;
  }

  @keyframes lluvia {
    0%   { transform: translate(0, 0) rotate(0deg); opacity: 1; }
    25%  { transform: translate(-1px, 2px) rotate(-0.5deg); opacity: 0.95; }
    50%  { transform: translate(1px, 4px) rotate(0.5deg); opacity: 0.9; }
    75%  { transform: translate(-1px, 6px) rotate(-0.5deg); opacity: 0.95; }
    100% { transform: translate(0, 8px) rotate(0deg); opacity: 1; }
  }
</style>
</head>
<body>

<div id="contenedor">
  <div class="bloque" id="bloque0">
                            toqué
                        el
                    pavimento
                con
            los
        dientes

                      cuando
                  me
              soltaste
          la
      mano
  </div>

  <div class="bloque" id="bloque1">
VOS,
                       que
                     me
                   hacías
                 girar
               sin
             parar
       hace
            años

yo,
                     rogando
                  que
               pares
         me dolía
              la panza
  </div>

  <div class="bloque" id="bloque2">
sentí
                     el
                  sabor
               metálico
            de
         la
      sangre
   en
la
  boca

y
                       ahora
                  lloro
             pateo
        grito:
   agarrame
        de
           nuevo
  </div>

  <div class="bloque" id="bloque3">
haceme
               girar

di vueltas
                    interminables
             en el carrusel
                   de
                      la rutina

la mente
                     nublada
                  por
                     el mareo
  </div>

  <div class="bloque" id="bloque4">
los ojos
                    cerrados

mis gritos
                   tapaban
               el sonido
                   de la calle

no existía
                    otra cosa
                que
             ese
        vértigo:

yo,
                     VOS,
                  la mano
  </div>
</div>

<script>
const totalBloques = 5;
let bloqueActual = 0;
const duracionBloque = 6000; // 6 segundos por bloque

function mostrarBloque(index) {
  for(let i=0;i<totalBloques;i++){
    document.getElementById(`bloque${i}`).style.display = "none";
  }
  const bloque = document.getElementById(`bloque${index}`);
  bloque.style.display = "flex";
  ajustarFuente(bloque);
}

// Ajusta el font-size para que el bloque quepa en pantalla
function ajustarFuente(bloque){
  let fontSize = 50; // tamaño inicial
  bloque.style.fontSize = fontSize + 'px';
  while ((bloque.scrollHeight > window.innerHeight || bloque.scrollWidth > window.innerWidth) && fontSize > 5) {
    fontSize -= 1;
    bloque.style.fontSize = fontSize + 'px';
  }
}

// Mostrar primer bloque
mostrarBloque(bloqueActual);

// Cambiar automáticamente los bloques en bucle
setInterval(() => {
  bloqueActual = (bloqueActual + 1) % totalBloques;
  mostrarBloque(bloqueActual);
}, duracionBloque);

// Ajustar tamaño si se redimensiona la ventana
window.addEventListener('resize', () => mostrarBloque(bloqueActual));
</script>

</body>
</html>
